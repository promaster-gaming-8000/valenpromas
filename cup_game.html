<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta property="og:title" content="Promaster's Valentines Website" />
    <meta property="og:description" content="This is a website created by PromasterYTJava. 
    The sole purpose of this website is to send this to your crush/girlfriend/boyfriend in the time of valentines day. 
    Surprise them with this beautifully handcrafted website for them! This website is filled with surprises!" />
    <meta property="og:image" content="https://valenpromas.vercel.app/icon/icon.png" />
    <meta property="og:url" content="https://valenpromas.vercel.app/cup_game.html" />
	<title>Find the Button!</title>
	<link rel="icon" href="icon/icon.png">
	<link rel="stylesheet" href="style.css">
	<link rel="stylesheet" href="game_style.css">
</head>
<body onload="updateLicenseText()">
	<audio class="aud" src="audio/blue_by_yung-kai.mp3" autoplay loop></audio>
    <div class="background" onclick="EXIThamburgerbtn()"></div>
    <div class="navbar">
        <div class="navbar-contents" style="height: 0px;">
            <div class="audio-controls">
                <div class="volume-slider-parent">
                    <div class="DIVmute-ctrl">
                        <img id="mute" class="mute-ctrl" src="images/mute.png" alt="mute" onclick="playAudio()" style="display: none;">
                        <img id="unmute" class="unmute-ctrl" src="images/unmute.png" alt="unmute" onclick="stopAudio()">
                    </div>
                    <div class="volume-slider">
                        <label class="slider">
                            <input type="range" name="volume" id="vol" class="level" />
                          </label>
                        <div>
                            <span class="num">50</span>
                        </div>
                    </div>
                    <div class="volume-slider-button">
                        <img class="volume-slider-button-arrow" src="images/arrow.png" alt="arrow">
                    </div>
                </div>
            </div>
            <div id="snackbar">Some text some message..</div>
            <div class="switch-parent">
                <span class="LDM-font">LDM</span>
                <label class="switch" id="switchMobile">
                    <input onclick="LDMswitchfunc()" class="LDMswitch" type="checkbox">
                    <span class="LDMslider round"></span>
                </label>
            </div>
        </div>
        <div class="hamburger-btn" onclick="hamburgerbtn()">
            <p class="hamburger-header">Options:</p>
            <img class="hamburger-btn-img" src="images/arrow.png" alt="arrow">
        </div>
    </div>
	<div class="center" onclick="EXIThamburgerbtn()">
		<h1 class="font-resize">Where is the <span style="color: red;">No</span> Button?</h1>
		<div id="game">
			<img class="cup" src="images/cup.png" alt="cup">
			<img class="cup" src="images/cup.png" alt="cup">
			<img class="cup" src="images/cup.png" alt="cup">
			<div class="ball">No</div>
			<div class="yes">Yes</div>
			<div id="game-result"></div>
		</div>
		
		<div>
			<p id="text-game">WAIT! YOU SHOULD PLAY AGAIN!</p>
			<p id="text-game1">WAIT! YOU SHOULD PLAY AGAIN!</p>
		</div>
		<p class="license" onload="updateLicenseText()">Programmed by PromasterYTJava &copy</p>
        <center>
            <a href="https://www.youtube.com/@promasterytjava" target="_blank">
                <img class="license-img cc-img1" src="images/youtube-white-icon-colored.png" alt="youtube-white-icon-colored">
            </a>
            <a href="https://discord.gg/JAsmxecvjK" target="_blank">
                <img class="license-img cc-img2" src="images/discord-white-icon-colored.png" alt="discord-white-icon-colored">
            </a>
            <a href="https://x.com/8000Gaming" target="_blank">
                <img class="license-img cc-img3" src="images/twitter-white-icon-colored.png" alt="twitter-white-icon-colored">
            </a>
        </center>
	</div>

	<script src="script.js"></script>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.transit/0.9.12/jquery.transit.min.js"></script>
	<script>
		var mediaFiveHundMaxWith = window.matchMedia("(max-width: 500px)")

		function matchMediaFiveHund(mediaFiveHundMaxWith) {
			if (mediaFiveHundMaxWith.matches) {
				document.querySelector('.navbar-contents').style.height="0px";
				document.querySelector('.hamburger-btn-img').style.transform="rotateZ(0deg)";
			} else {
				document.querySelector('.navbar-contents').style.height="auto";
				document.querySelector('.hamburger-btn-img').style.transform="rotateZ(0deg)";
			}
		}
		matchMediaFiveHund(mediaFiveHundMaxWith);

		mediaFiveHundMaxWith.addEventListener("change", function() {
			matchMediaFiveHund(mediaFiveHundMaxWith);
		})
		function hamburgerbtn() {

			if (document.querySelector('.navbar-contents').style.height == "0px") {
				document.querySelector('.navbar-contents').style.height="130px";
				document.querySelector('.hamburger-btn-img').style.transform="rotateZ(180deg)";
			} else {
				document.querySelector('.navbar-contents').style.height="0px";
				document.querySelector('.hamburger-btn-img').style.transform="rotateZ(0deg)";
			}
		}
		function EXIThamburgerbtn() {
			if (mediaFiveHundMaxWith.matches) {
				document.querySelector('.navbar-contents').style.height="0px";
				document.querySelector('.hamburger-btn-img').style.transform="rotateZ(0deg)";
			}
		}
	function isMobileDevice() {
            return /Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent) || 
                /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(navigator.userAgent || navigator.vendor);
        }

        if (isMobileDevice()) {
            var LDMswitchJS1 = document.getElementById('switchMobile').click();
        }
	function LDMswitchfunc() {
		var LDMswitchJS = document.querySelector('.LDMswitch')

		var x = document.getElementById("snackbar");
		x.className = "show";
		setTimeout(function(){ x.className = x.className.replace("show", ""); }, 3000);

		if (LDMswitchJS.checked) {
				document.querySelector('.background').style.backgroundImage = "url('images/LDM/valentines-LDM.png')";
				document.querySelector('.volume-slider').style.transition = "0s";
				document.querySelector('.cc-img1').style.transition = "0s";
				document.querySelector('.cc-img2').style.transition = "0s";
				document.querySelector('.cc-img3').style.transition = "0s";

				document.getElementById("snackbar").innerText = "Low Detail Mode enabled"
			} else {
				document.querySelector('.background').style.backgroundImage = "url('images/valentines.gif')";
				document.querySelector('.volume-slider').style.transition = "0.5s";
				document.querySelector('.cc-img1').style.transition = "0.5s";
				document.querySelector('.cc-img2').style.transition = "0.5s";
				document.querySelector('.cc-img3').style.transition = "0.5s";

				document.getElementById("snackbar").innerText = "Low Detail Mode disabled"
			}
	}
        window.onload = function() {
        const licenseElement = document.querySelector(".license");
        const messagesLicense = [
            "Programmed by PromasterYTJava ¬©",
            "Made with ‚ù§Ô∏è by PromasterYTJava ¬©",
            "Coding since 2021... ¬©",
            "PromasterYTJava is watching üëÄ ¬©",
            "This website runs on pure magic ‚ú® ¬©",
            "Another masterpiece by PromasterYTJava! üöÄ ¬©"
        ];

        let index = 0;

        function updateLicenseText() {
            licenseElement.textContent = messagesLicense[index];
            index = (index + 1) % messagesLicense.length;
        }

            setInterval(updateLicenseText, 2000);
        };
    </script>
	<script>
(function($)
{
	// DOM elems
	var $game;
	var $cups;
	var $ball;
	var $yes;
	var $gameResult;
	var $textGame;

	function initGame()
	{
		// Config vars
		var animSpeed = 400;
		var intervalSpeed = animSpeed + 100;
		var nbMaxSwaps = 5;
		
		// Game vars
		var posBall;
		var animsInterval;
		var cupsWidth = $cups.outerWidth(true);
		var nbCups = $cups.length;
		var nbSwaps = 0;

		// Animation
		function move($elemToMove, dir, depth, nbMoves)
		{
			var distanceAnim = cupsWidth * nbMoves / 2;
			var zindex = depth > 0 ? 5 : -5;
			var scale = depth > 0 ? 1.25 : 0.75;

			if(dir === 'left') dir = '-'; else dir = '+';

			$elemToMove
				.css('z-index', zindex)
				.transition({ x: dir + '=' + distanceAnim, scale: scale }, { duration: animSpeed / 2, easing: 'linear' })
				.transition({ x: dir + '=' + distanceAnim, scale: 1 }, { duration: animSpeed / 2, easing: 'linear', complete: function() {
					$elemToMove.css('z-index', 'auto');
					nbSwaps += 0.5;
					if(nbSwaps >= nbMaxSwaps) {
						clearInterval(animsInterval);
						end();
					}
				}});
		}

		function swapElems($firstCup, $secondCup)
		{
			var posFirstCup = $firstCup.data('posCurrent');
			var posSecondCup = $secondCup.data('posCurrent');
			var nbMoves = Math.abs(posFirstCup - posSecondCup);

			if(posFirstCup > posSecondCup) {
				move($firstCup, 'left', 1, nbMoves);
				move($secondCup, 'right', 0, nbMoves);
			} else {
				move($firstCup, 'right', 0, nbMoves);
				move($secondCup, 'left', 1, nbMoves);
			}

			$firstCup.data('posCurrent', posSecondCup);
			$secondCup.data('posCurrent', posFirstCup);
		}

		function animateCups()
		{
			var indexFirstCup = Math.floor(Math.random() * nbCups);
			var indexSecondCup = (indexFirstCup + 1) % nbCups;
			swapElems($cups.eq(indexFirstCup), $cups.eq(indexSecondCup));
		}
		
		function start()
		{
			nbSwaps = 0;
			posBall = Math.floor(Math.random() * nbCups);
			$cups.each(function() { $(this).data('posStart', $(this).data('posCurrent')); });
			$ball.css('left', posBall * cupsWidth).fadeIn().delay(600).fadeOut(function() {
				animsInterval = setInterval(animateCups, intervalSpeed);
			});
		}

		function end()
		{
			$game.on('click', '.cup', function()
			{
				var posStart = $(this).data('posStart');
				var posEnd = $(this).data('posCurrent');

				if(posBall === posStart) {
					$game.off('click', '.cup');
					$ball.css('left', posEnd * cupsWidth).stop(true, false).fadeIn().delay(2000).fadeOut();
					$('#text-game').fadeIn(500).delay(2000).fadeOut(500);
					animSpeed /=4;
					setTimeout(start, 3000);
				} else {
					$yes.css('left', posEnd * cupsWidth).stop(true, false).fadeIn();
					setTimeout(function() { window.location.href = 'yes.html'; }, 2000);
				}
				$gameResult.stop(true, false).fadeIn().delay(600).fadeOut();
			});
		}

		function init()
		{
			$cups.each(function(i) { $(this).data({ posStart: i, posCurrent: i }); });
			start();
		}

		init();
	}

	$(document).ready(function()
	{
		$game = $('#game');
		$cups = $game.find('.cup');
		$ball = $game.find('.ball');
		$yes = $game.find('.yes');
		$gameResult = $('#game-result');
		$textGame = $('text-game');
		initGame();
	});
})(jQuery);
	</script>
</body>
</html>